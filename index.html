<!DOCTYPE html>
<html >
<head>
  <title>alb-xh</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>👨🏻‍💻</text></svg>" />
  <script type="text/javascript">
    const sorryAlert = () => { alert(`Smth wen't wrong, sorry :(` ); }
    const timer = setTimeout(() => { sorryAlert(); }, 2000);
    const show = (el) => { el.className = el.className.replace('invisible', ''); }
    const hide = (el) => { if (!el.className.includes('invisible')) { el.className += ' invisible'; } }
    const hyperlink = ({ href, text, id, download }) =>
      `<a ${id ? `id='${id}'`: ''} class='underline text-blue-600 hover:text-blue-800 visited:text-purple-600' ${href ? `href='${href}'`: ''} ${download ? `download='${download}'` : ''} >${text || href}</a>`;
    const getAge = (birthDate) => Math.floor((new Date() - new Date(birthDate).getTime()) / 3.15576e+10)
    const color = (vl, cl) => `<span class='${cl}'>${vl}</span>`;
    const orange = (vl) => color(vl, 'text-orange-400');
    const lime = (vl) => color(vl, 'text-lime-200');

    const data = {
      [orange("name")]:  lime("Albano Xhafaj"),
      [orange("age")]: lime(getAge('1997-01-15')),
      [orange("picture")]: hyperlink({ id: 'profile-view-link', text: "view" }),
      [orange("nationality")]: lime('Albanian'),
      [orange("location")]: lime("Budapest, HU"),
      [orange("email")]: hyperlink({ text: "albano.xhafaj10@gmail.com", href: "mailto:albano.xhafaj10@gmail.com" }),
      [orange("job")]: lime("JS Full stack developer"),
      [orange("resume")]: hyperlink({ href: "/media/resume.pdf", text: 'Download', download: 'albano-xhafaj-resume.pdf' }),
      [orange('github')]: hyperlink({ href: "https://github.com/alb-xh" }),
      [orange('linkedIn')]: hyperlink({ href: 'https://www.linkedin.com/in/alb-xh/' }),
      [orange("introduction")]: lime("I love my beautiful wife Alyona, and our grumpy cat Sofia :) I enjoy bike rides on sunsets and a cold beer with friends"),
      // [orange("projects")]: [
      //   {
      //     [orange("name")]: lime("Comments API"),
      //     [orange("description")]: lime("CRUD API for comments about e-commerce products"),
      //     [orange("tech")]: [ "Express", "GraphQL", "Mongoose", "MongoDb" ].map((e) => lime(e)),
      //     [orange("repo")]: link("https://github/alb-xh/comments-api"),
      //   },
      //  ]
    };

    document.addEventListener("DOMContentLoaded", (event) => {
      clearTimeout(timer);

      const panel = document.getElementById('panel');
      const text = document.getElementById('text');

      if (!panel || !text) { return sorryAlert(); }

      text.innerHTML = JSON.stringify(data, null, 4);

      const profileViewLink = document.getElementById('profile-view-link');
      const profilePanel = document.getElementById('profile-panel');
      const profileXButton = document.getElementById('profile-x-button');

      if (!profileViewLink || !profilePanel || !profileXButton) { return sorryAlert(); }

      profileViewLink.onclick = () => show(profilePanel);
      profileXButton.onclick = () => hide(profilePanel);

      show(panel);
    });
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="h-screen bg-gray-900 p-10">
  <div class="w-full h-full flex justify-center items-center z-1">
    <div id="panel" class="invisible flex border-double border-8 p-10 rounded border-indigo-700 overflow-auto">
      <pre id="text" class="text-gray-50"></pre>
    </div>
  </div>
  <div id="profile-panel" class="invisible flex flex-col absolute p-10 top-0 right-0 z-2 bg-indigo-900 gap-1 border-dashed border-2 border-sky-500 rounded">
    <div class="w-full flex justify-end">
      <button id="profile-x-button" class="bg-indigo-500 hover:bg-indigo-600 font-bold py-2 px-2 rounded w-10 text-red-600">&#10005;</button>
    </div>
    <img class="h-96" src="/media/profile.jpg" alt="Profile picture">
  </div>
</body>
</html>

